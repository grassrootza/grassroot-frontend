<div class="container group-info-row">
  <div class="row">
    <div class="col-3 group-name">
      <img *ngIf="!group.pinned" class="pin" src="assets/star_empty.png" (click)="handlePinClick()"/>
      <img *ngIf="group.pinned" class="pin" src="assets/star_full.png" (click)="handlePinClick()"/>
      {{group.name}}
    </div>
    <div class="col-2">
          <span class="badge badge-success">
            {{group.getFormattedRoleName()}}
          </span>
    </div>
    <div class="col-3">
      <img *ngIf="group.nextEventType" src="assets/{{group.getEventIconName()}}"/>
      {{group.getFormattedEventTime()}}
    </div>
    <div class="col-2">
      <img src="assets/members.png"/>
      {{group.memberCount}}
    </div>
    <div class="col-1">
      <div class="dropdown">
        <button class="btn dropdown-toggle" type="button" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
          Actions
        </button>
        <div class="dropdown-menu">
          <a *ngIf="group.hasPermission('GROUP_PERMISSION_CREATE_GROUP_MEETING')" class="dropdown-item disabled">Call
            meeting</a>
          <a *ngIf="group.hasPermission('GROUP_PERMISSION_CREATE_GROUP_VOTE')" class="dropdown-item disabled">Take vote
            action</a>
          <a *ngIf="group.hasPermission('GROUP_PERMISSION_CREATE_LOGBOOK_ENTRY')" class="dropdown-item disabled">Create
            action</a>
        </div>
      </div>
    </div>
    <div class="col-1 chevron">
        <img src="assets/chevron_right.png" (click)="handleChevronPicked()"/>
    </div>
  </div>
</div>


<div *ngIf="extendedInfoVisible" class="container group-info-details">

  <div class="row">
    <div class="col-5">
      <h5>Coming Up:</h5>
      <div class="container ">
        <div class="row task-row" *ngFor="let task of group.tasks">
          <div class="col-4 no-padding-horizontal">
            <img src="assets/{{task.getEventIconName()}}"/>
            <span class="task-type">{{task.type.toLowerCase()}}</span>
          </div>
          <div class="col-8">
            {{task.deadlineDate | date:'dd MMMM, y'}}
          </div>
        </div>
      </div>
    </div>

    <div class="col-3">
      <h5>Task Teams:</h5>
      <div class="container ">
        <div class="row" *ngFor="let subGroup of group.subGroups">
          <div class="col-12 no-padding-horizontal">
            <div class="btn-group" role="group">
              <button type="button" class="btn subgroup-link">{{subGroup.name}}</button>
              <span class="input-group-addon" id="btnGroupAddon">{{subGroup.memberCount}}</span>
            </div>

          </div>
        </div>
      </div>
    </div>

    <div class="col-4">
      <a href="#">View All Task Teams </a>
      <button class="btn btn-outline-secondary view-group-btn float-right"> View Group</button>
    </div>

  </div>
</div>

