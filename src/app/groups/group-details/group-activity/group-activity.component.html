<div class="row justify-content-center">
  <div class="col-3">
    <button class="btn btn-block btn-outline-secondary" (click)="showCreateMeetingModal()">
      <img src="assets/icon_meeting.png"/>
      {{'group.activity.meeting' | translate}}</button>
  </div>
  <div class="col-3">
    <button class="btn btn-block btn-outline-secondary" (click)="showCreateVoteModal()">
      <img src="assets/icon-votes.png"/>
      {{'group.activity.vote' | translate}}</button>
  </div>
  <div class="col-3">
    <button class="btn btn-block btn-outline-secondary" (click)="showCreateTodoModal()">
      <img src="assets/icon_todo.png"/>
      {{'group.activity.actionItem' | translate}}</button>
  </div>
</div>

<div *ngIf="upcomingTasks.length > 0" style="margin-top: 32px;">
  <div class="card">
    <div class="card-body events-box">
      <div class="row">
        <div class="col-7">
          <h1 [translate]="'group.activity.upcoming'"> Upcoming</h1>
        </div>
      </div>
      <div class="card" *ngFor="let task of upcomingTasks" style="margin-bottom: 1rem !important;">
        <div class="card-body events-box" >
          <div class="row">
            <div class="col-1">
              <div class="date-box rounded text-center">
                <h3>{{task.deadlineDate | date: 'dd'}}</h3>
                {{task.deadlineDate | date: 'MMM'}}
              </div>
            </div>
            <div class="col-11">
              <div class="row">
                <span class="font-weight-bold">
                  <img [src]="'assets/' + task.getEventIconName() "/>
                  {{task.type}}:&nbsp;
                </span>
                  {{task.title}}
              </div>
              <div class="row" *ngIf="task.type === taskTypes.VOTE">
                <span class="font-weight-bold" [translate]="'group.activity.voteCloses'"> Closes:</span>&nbsp;
                {{task.deadlineDate | date: 'hh:mm a on dd MMM yy'}}
              </div>
              <div class="row">
                <p>{{task.description}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!--modals-->
<div class="modal fade" id="create-meeting-modal" tabindex="-1" role="dialog" aria-labelledby="create-meeting-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <app-create-meeting [groupUid]="groupUid" (meetingSaved)="meetingSaved($event)"></app-create-meeting>
    </div>
  </div>
</div>

<div class="modal fade" id="create-vote-modal" tabindex="-1" role="dialog" aria-labelledby="create-vote-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <app-create-vote [groupUid]="groupUid" (voteSaved)="voteSaved($event)"></app-create-vote>
    </div>
  </div>
</div>

<div class="modal fade" id="create-todo-modal" tabindex="-1" role="dialog" aria-labelledby="create-todo-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <app-create-todo [groupUid]="groupUid" (todoSaved)="todoSaved($event)"></app-create-todo>
    </div>
  </div>
</div>
