<div class="container">

  <div class="row stats-panel">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <div class="container">
            <div class="row">
              <div class="col-md-8 col-sm-12">
                <h5 [translate]="'campaign.statistics.members.title'">Members growth</h5>
                <canvas id="memberGrowthChart" height="200" width="400"></canvas>
              </div>
              <div class="col-md-4 col-sm-12 pt-5">
                <canvas id="conversionRatesChart" height="200" width="200"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row stats-panel">
    <div class="col-md-8 col-sm-12">
      <div class="card">
        <div class="card-body">
          <div class="container">
            <div class="row">
              <div class="col-md-6 col-sm-6">
                <h5 [translate]="'campaign.statistics.engagement.title'">Campaign Engagement</h5>
                <canvas id="engagementPieChart" height="200" width="200"></canvas>
              </div>
              <div class="col-md-6 col-sm-6">
                <h5 [translate]="'campaign.statistics.engagement.topic'"
                  [translateParams]="{ channel: !!selectedChannel ? selectedChannel : 'all'}">Topic Interest: </h5>
                {{ campaign?.topics }}
                <h5 [translate]="'campaign.statistics.engagement.view'">View by: </h5>
                <button (click)="loadChannelEngagement()" class="btn btn-outline-primary">{{ 'campaign.statistics.engagement.channels' | translate }}</button>
                <button (click)="loadProvinceEngagement()" class="btn btn-outline-primary">{{ 'campaign.statistics.engagement.provinces' | translate }}</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4 col-sm-12">
      <div class="card">
        <div class="card-body">
          <div class="container">
            <div class="row">
              <div class="col-12 form-inline">
                <span [translate]="'campaign.statistics.activity.title'">Activity</span>
                <select class="form-control-sm" [(ngModel)]="activityDataDivision" (ngModelChange)="loadActivityStats()">
                  <option [translate]="'campaign.statistics.activity.select_channel'" [value]="'by_channel'"></option>
                  <option [translate]="'campaign.statistics.activity.select_province'" [value]="'by_province'"></option>
                </select>
                <select class="form-control-sm" [(ngModel)]="activityTimePeriod" (ngModelChange)="loadActivityStats()">
                  <option *ngFor="let option of timeUnitOptions"
                          [translate]="'campaign.statistics.activity.time.' + option" [value]="option">This week</option>
                </select>
                <canvas id="activityStackedChart" height="200" width="200"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row stats-panel" *ngIf="campaign?.petitionConnected">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <div class="container">
            <div class="row">
              <div class="col-md-8 col-sm-12">
                <!-- todo: amandla.mobi chart & progress bar -->
                <h5 [translate]="'campaign.statistics.petition.title'">Members growth</h5>
                <canvas id="petitionTimeChart" height="200" width="400"></canvas>
              </div>
              <div class="col-md-4 col-sm-12">
                <h5 [translate]="'campaign.statistics.petition.conversion'">Conversion</h5>
                <canvas id="petitionPieChart" height="200" width="200"></canvas>
              </div>
            </div>
            <div class="row">
              <!-- progress bar -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



</div>
